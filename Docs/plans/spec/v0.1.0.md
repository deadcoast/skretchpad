# SPEC 0.1.0

## Scope

This spec consolidates the completed `v0.0.10 -> v0.0.11` hardening work and defines `v0.1.0` as the **stability + polish baseline** for Skretchpad.

It replaces prior implementation-plan framing from `Docs/plans/spec/v0.0.10.md` with a release-grade baseline and validation criteria.

## Release Intent

- Ship a stable desktop editor baseline with secure plugin runtime defaults.
- Align theme system, explorer UX, and command routing with production behavior.
- Remove scaffold-level UX gaps that impacted daily usage.
- Establish documentation and TODO tracking as first-class maintenance outputs.

## Baseline Requirements (v0.1.0)

### 1. Runtime and Security

- Verified plugin trust requires signatures and fails closed when missing.
- Filesystem capability checks use canonical path containment (no prefix confusion).
- Plugin command execution is bounded by allowlist + timeout + path-like binary hardening.
- Plugin entrypoints are canonicalized and constrained to plugin directories.
- Workspace root source is consistent across manager/API/runtime.

### 2. Editor and File Flows

- File open payload handling must accept normalized string/object path shapes.
- Status bar line/column and selection tracking must update live from active editor state.
- Native file operations (`read_file`, `save_file`, metadata) must remain stable.

### 3. Explorer and Sidebar UX

- Explorer visible by default.
- `File -> Open Folder...` updates explorer root without restart.
- Sidebar/explorer width is drag-resizable and persisted.
- Hidden files/folders (`.` prefix + selected control docs) are visible and styled as hidden.
- File visuals include language/category rendering with theme-integrated styling.

### 4. Theme and Visual Consistency

- MilkyText baseline uses updated dark values:
  - `window.background.base = #0A0A0E`
  - `chrome.background.color = #0D0E13`
  - subtle-dark status/chrome accents aligned with `#12131b`
- App shell fallbacks (`html/body/boot`) align to theme baseline defaults.
- Window controls derive from theme palette tokens, not hardcoded traffic-light values.

### 5. Documentation and Release Hygiene

- Changelog reflects `0.1.0` release state.
- Status report reflects current test/build/runtime metrics.
- TODO and shelved roadmap distinguish active work vs deferred features.
- Audit plans include remediation validation addenda.

## Validation Gates

### Required

1. `npm run check`
2. `npm run lint`
3. `npm run test -- --run`
4. `npm run test:rust`

### Recommended

1. `npm run test:coverage`
2. `npm run build`
3. `npm run tauri:build`

## Deliverables

- Updated codebase implementing the baseline requirements above.
- Updated docs:
  - `README.md`
  - `Docs/CHANGELOG.md`
  - `Docs/reports/STATUS_2026-02-10.md`
  - `Docs/TODO.md`
  - `Docs/plans/audit/AUDIT_2025-10-28.md`
  - `Docs/plans/audit/AUDIT-2026-02-10.md`
  - `Docs/plans/shelved/FUTURE-FEATURES.md`

## Out of Scope

- New architecture module deep-dives (tracked as low-priority docs work).
- Large feature expansions (LSP, terminal, marketplace, collaboration).
- Major refactors unrelated to stability/polish.
